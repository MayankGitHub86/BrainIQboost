<?php
$questions = [
    [
        "question" => "What is 4 + 5 × 2?",
        "options" => ["18", "14", "13", "12"],
        "answer" => "B"
    ],
    [
        "question" => "If 12 ÷ 4 = 3, then what is 12 × 3?",
        "options" => ["36", "45", "24", "32"],
        "answer" => "A"
    ],
    [
        "question" => "What is 25% of 80?",
        "options" => ["25", "15", "20", "30"],
        "answer" => "C"
    ],
    [
        "question" => "What comes next in the series: 5, 10, 15, 20, ___?",
        "options" => ["25", "30", "18", "40"],
        "answer" => "A"
    ],
    [
        "question" => "If a train travels 40 miles in 30 minutes, what is its speed in miles per hour?",
        "options" => ["80", "60", "50", "70"],
        "answer" => "B"
    ],
    [
        "question" => "If it takes 6 people 6 hours to complete a task, how long will it take 3 people?",
        "options" => ["9", "12", "18", "36"],
        "answer" => "A"
    ],
    [
        "question" => "What is the square root of 144?",
        "options" => ["12", "14", "16", "10"],
        "answer" => "A"
    ],
    [
        "question" => "If 10x = 60, what is the value of x?",
        "options" => ["6", "5", "4", "3"],
        "answer" => "A"
    ],
    [
        "question" => "What is 15% of 200?",
        "options" => ["25", "30", "40", "50"],
        "answer" => "B"
    ],
    [
        "question" => "If 8 is 40% of a number, what is the number?",
        "options" => ["20", "40", "60", "50"],
        "answer" => "A"
    ],
    [
        "question" => "What is the next number in the series: 1, 4, 9, 16, ___?",
        "options" => ["25", "22", "24", "30"],
        "answer" => "A"
    ],
    [
        "question" => "How many seconds are there in 5 minutes?",
        "options" => ["300", "150", "600", "100"],
        "answer" => "A"
    ],
    [
        "question" => "What is 12 × 15?",
        "options" => ["180", "150", "160", "200"],
        "answer" => "A"
    ],
    [
        "question" => "What is 12 ÷ 3 + 5?",
        "options" => ["9", "6", "7", "8"],
        "answer" => "C"
    ],
    [
        "question" => "If a bus travels 50 kilometers in 1 hour, how far will it travel in 3 hours?",
        "options" => ["100", "150", "200", "120"],
        "answer" => "B"
    ],
    [
        "question" => "If a book has 240 pages and you read 30 pages per hour, how many hours will it take to finish the book?",
        "options" => ["7", "8", "6", "9"],
        "answer" => "B"
    ],
    [
        "question" => "If the price of a 30-litre bucket of water is $45, what is the cost of 1 litre of water?",
        "options" => ["$1.50", "$1.00", "$2.00", "$1.25"],
        "answer" => "A"
    ],
    [
        "question" => "How many days are in 6 weeks?",
        "options" => ["42", "36", "48", "50"],
        "answer" => "A"
    ],
    [
        "question" => "What is the sum of 50, 75, and 100?",
        "options" => ["225", "250", "200", "180"],
        "answer" => "A"
    ],
    [
        "question" => "If you have 3 apples and give 2 away, how many apples do you have left?",
        "options" => ["1", "2", "3", "4"],
        "answer" => "A"
    ],
    [
        "question" => "How many hours are there in 3 days?",
        "options" => ["72", "24", "48", "96"],
        "answer" => "A"
    ],
    [
        "question" => "How many seconds are in 3 minutes?",
        "options" => ["180", "150", "120", "100"],
        "answer" => "A"
    ],
    [
        "question" => "What is 2 + 2 × 3?",
        "options" => ["12", "8", "6", "10"],
        "answer" => "B"
    ],
    [
        "question" => "How many 10-liter buckets can be filled with 100 liters of water?",
        "options" => ["10", "12", "15", "20"],
        "answer" => "A"
    ],
    [
        "question" => "What is the next number in the sequence: 2, 5, 10, 17, ___?",
        "options" => ["26", "28", "30", "25"],
        "answer" => "A"
    ],
    [
        "question" => "If a person runs 5 kilometers in 30 minutes, how long will it take them to run 20 kilometers at the same pace?",
        "options" => ["2 hours", "1 hour", "3 hours", "4 hours"],
        "answer" => "A"
    ],
    [
        "question" => "What is the area of a square with a side length of 6 units?",
        "options" => ["36", "18", "12", "24"],
        "answer" => "A"
    ],
    [
        "question" => "How many days are there in 3 months?",
        "options" => ["90", "60", "80", "100"],
        "answer" => "A"
    ],
    [
        "question" => "What is the average of these numbers: 10, 20, 30, 40, 50?",
        "options" => ["30", "25", "35", "40"],
        "answer" => "A"
    ],
    [
        "question" => "What is the perimeter of a rectangle with a length of 8 units and a width of 5 units?",
        "options" => ["26", "25", "27", "24"],
        "answer" => "A"
    ],
    [
        "question" => "If you buy 3 shirts for $15, how much does each shirt cost?",
        "options" => ["$5", "$3", "$4", "$6"],
        "answer" => "A"
    ],
    [
        "question" => "What is the next number in the sequence: 1, 3, 6, 10, ___?",
        "options" => ["15", "13", "12", "11"],
        "answer" => "A"
    ]
];
?>



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BrainBoost IQ Test</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: white;
      padding: 15px 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    header .logo {
      font-weight: bold;
      font-size: 20px;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .question-box {
      margin-bottom: 20px;
    }
    .question-category {
      font-size: 14px;
      color: #6366f1;
      font-weight: bold;
    }
    .question-text {
      font-size: 18px;
      font-weight: bold;
      margin: 10px 0;
    }
    .options button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background-color: #f3f4f6;
      cursor: pointer;
    }
    .navigation {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    .navigation button {
      background-color: #6366f1;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    .timer-score {
      text-align: right;
      margin-bottom: 10px;
    }
    .scorecard {
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      margin-top: 20px;
    }
    .close-btn {
      margin: 10px 10px 0 10px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #6366f1;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <i class='bx bxs-brain'></i> BrainBoost IQ
    </div>
    <div class="timer-score">
      <span id="timer">Time Left: 20:00</span> |
      <span id="score">Score: 0</span>
    </div>
  </header>

  <div class="container">
    <div id="quiz-box"></div>
    <div class="navigation">
      <button id="next-btn" onclick="nextQuestion()">Next →</button>
      <button id="submit-btn" onclick="showScore()" style="display:none;">FNISH</button>
    </div>
    <div class="scorecard" id="scorecard"></div>
  </div>

  <script>
    const questions = <?php echo json_encode($questions); ?>;
    let current = 0;
    let score = 0;
    let selectedAnswers = new Array(questions.length);
    let time = 1200; // 20 minutes
    let timerInterval;

    function loadQuestion(index) {
      const q = questions[index];
      document.getElementById("quiz-box").innerHTML = `
        <div class="question-box">
          <div class="question-category">IQ Question</div>
          <div class="question-text">${index + 1}. ${q.question}</div>
          <div class="options">
            ${q.options.map((opt, i) => `
              <button onclick="selectOption('${String.fromCharCode(65 + i)}', this)">
                ${String.fromCharCode(65 + i)}) ${opt}
              </button>`).join('')}
          </div>
        </div>`;

      // Toggle buttons
      if (index === questions.length - 1) {
        document.getElementById("next-btn").style.display = 'none';
        document.getElementById("submit-btn").style.display = 'inline-block';
      } else {
        document.getElementById("next-btn").style.display = 'inline-block';
        document.getElementById("submit-btn").style.display = 'none';
      }
    }

    function selectOption(answer, btn) {
      selectedAnswers[current] = answer;
      document.querySelectorAll(".options button").forEach(b => {
        b.style.backgroundColor = '#f3f4f6';
      });
      btn.style.backgroundColor = '#a5b4fc';
    }

    function nextQuestion() {
      if (current < questions.length - 1) {
        current++;
        loadQuestion(current);
      }
    }

    function showScore() {
      questions.forEach((q, i) => {
        if (selectedAnswers[i] === q.answer) score++;
      });
      clearInterval(timerInterval);
      document.getElementById("quiz-box").style.display = 'none';
      document.querySelector(".navigation").style.display = 'none';
      document.getElementById("score").innerText = `Score: ${score}`;
      const timeTaken = formatTime(1200 - time);
      document.getElementById("scorecard").innerHTML = `
        You scored ${score} out of ${questions.length}<br>
        Time Taken: ${timeTaken}<br>
        <button class='close-btn' onclick='restartQuiz()'>Test Again</button>
        <button class='close-btn'><a href="secondpage.php" style="color:white; text-decoration: none;">Close</a></button>`;
    }

    function restartQuiz() {
      current = 0;
      score = 0;
      time = 1200;
      selectedAnswers = new Array(questions.length);
      document.getElementById("quiz-box").style.display = 'block';
      document.querySelector(".navigation").style.display = 'flex';
      document.getElementById("scorecard").innerHTML = '';
      loadQuestion(current);
      startTimer();
    }

    function startTimer() {
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        if (time > 0) {
          time--;
          document.getElementById("timer").innerText = `Time Left: ${formatTime(time)}`;
        } else {
          showScore();
        }
      }, 1000);
    }

    function formatTime(seconds) {
      const mins = String(Math.floor(seconds / 60)).padStart(2, '0');
      const secs = String(seconds % 60).padStart(2, '0');
      return `${mins}:${secs}`;
    }

    loadQuestion(current);
    startTimer();
  </script>
</body>
</html>
